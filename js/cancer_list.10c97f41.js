(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["cancer_list"],{"017e":function(t,a,e){"use strict";var o=e("9efd"),r="/api/data_category",n={page:function(t){return Object(o["a"])({url:"".concat(r),params:t,method:"get"})},del:function(t){return Object(o["a"])({url:"".concat(r,"/del/").concat(t),method:"get"})},add:function(t){return Object(o["a"])({url:r,data:t,method:"post"})},update:function(t,a){return Object(o["a"])({url:"".concat(r,"/update/").concat(t),data:a,method:"post"})},init:function(t){return Object(o["a"])({url:"".concat(r,"/init"),params:t,method:"get"})},createTSVFile:function(){return Object(o["a"])({url:"".concat(r,"/createTSVFile"),method:"post",responseType:"blob"})}};a["a"]=n},"04f1":function(t,a,e){"use strict";e.r(a);var o=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("a-form-model",{ref:"ruleForm",attrs:{model:t.form,rules:t.rules,"label-col":t.labelCol,"wrapper-col":t.wrapperCol}},[e("a-form-model-item",{ref:"Name",attrs:{label:"Name",prop:"name"}},[e("a-input",{model:{value:t.form.name,callback:function(a){t.$set(t.form,"name",a)},expression:"form.name"}})],1),e("a-form-model-item",{ref:"prerequisites",attrs:{label:"prerequisites",prop:"prerequisites"}},[e("a-input",{model:{value:t.form.prerequisites,callback:function(a){t.$set(t.form,"prerequisites",a)},expression:"form.prerequisites"}})],1),e("a-form-model-item",{ref:"codeOutput",attrs:{label:"codeOutput",prop:"codeOutput"}},[e("a-input",{model:{value:t.form.codeOutput,callback:function(a){t.$set(t.form,"codeOutput",a)},expression:"form.codeOutput"}})],1),e("a-form-model-item",{ref:"taskType",attrs:{label:"taskType",prop:"taskType"}},[e("a-select",{staticStyle:{width:"200px"},attrs:{"show-search":"",placeholder:"Select a person","option-filter-prop":"children"},model:{value:t.form.taskType,callback:function(a){t.$set(t.form,"taskType",a)},expression:"form.taskType"}},t._l(t.taskTypeList,(function(a){return e("a-select-option",{key:a.key,attrs:{value:a.key}},[t._v(" "+t._s(a.value)+" ")])})),1)],1),e("a-form-model-item",{ref:"codeType",attrs:{label:"codeType",prop:"codeType"}},[e("a-select",{staticStyle:{width:"200px"},attrs:{"show-search":"",placeholder:"Select a person","option-filter-prop":"children"},model:{value:t.form.codeType,callback:function(a){t.$set(t.form,"codeType",a)},expression:"form.codeType"}},t._l(t.codeTypeList,(function(a){return e("a-select-option",{key:a.key,attrs:{value:a.key}},[t._v(" "+t._s(a.value)+" ")])})),1)],1),e("a-form-model-item",{ref:"absolutePath",attrs:{label:"absolutePath",prop:"absolutePath"}},[e("a-select",{attrs:{"show-search":"",placeholder:"Select a person","option-filter-prop":"children"},on:{focus:t.absolutePath},model:{value:t.form.absolutePath,callback:function(a){t.$set(t.form,"absolutePath",a)},expression:"form.absolutePath"}},t._l(t.files,(function(a){return e("a-select-option",{key:a.fileName,attrs:{value:a.absolutePath}},[t._v(" "+t._s(a.fileName)+" ")])})),1)],1),e("a-form-model-item",{ref:"Cancer",attrs:{label:"Cancer",prop:"cancer"}},[e("a-select",{staticStyle:{width:"200px"},attrs:{mode:"multiple","show-search":"",placeholder:"Select a person","option-filter-prop":"children"},on:{focus:t.cancerFocus,search:t.cancerSearch},model:{value:t.form.cancer,callback:function(a){t.$set(t.form,"cancer",a)},expression:"form.cancer"}},t._l(t.cancerList,(function(a){return e("a-select-option",{key:a.id,attrs:{value:a.id}},[t._v(" "+t._s(a.name)+" ")])})),1)],1),e("a-form-model-item",{ref:"Study",attrs:{label:"Study",prop:"study"}},[e("a-select",{staticStyle:{width:"200px"},attrs:{mode:"multiple","show-search":"",placeholder:"Select a person","option-filter-prop":"children"},on:{focus:t.studyFocus,search:t.studySearch},model:{value:t.form.study,callback:function(a){t.$set(t.form,"study",a)},expression:"form.study"}},t._l(t.studyList,(function(a){return e("a-select-option",{key:a.id,attrs:{value:a.id}},[t._v(" "+t._s(a.name)+" ")])})),1)],1),e("a-form-model-item",{ref:"DataOrigin",attrs:{label:"DataOrigin",prop:"dataOrigin"}},[e("a-select",{staticStyle:{width:"200px"},attrs:{mode:"multiple","show-search":"",placeholder:"Select a person","option-filter-prop":"children"},on:{focus:t.dataOriginFocus,search:t.dataOriginSearch},model:{value:t.form.dataOrigin,callback:function(a){t.$set(t.form,"dataOrigin",a)},expression:"form.dataOrigin"}},t._l(t.dataOriginList,(function(a){return e("a-select-option",{key:a.id,attrs:{value:a.id}},[t._v(" "+t._s(a.name)+" ")])})),1)],1),e("a-form-model-item",{ref:"DataCategory",attrs:{label:"DataCategory",prop:"dataCategory"}},[e("a-select",{staticStyle:{width:"200px"},attrs:{mode:"multiple","show-search":"",placeholder:"Select a person","option-filter-prop":"children"},on:{focus:t.dataCategoryFocus,search:t.dataCategorySearch},model:{value:t.form.dataCategory,callback:function(a){t.$set(t.form,"dataCategory",a)},expression:"form.dataCategory"}},t._l(t.dataCategoryList,(function(a){return e("a-select-option",{key:a.id,attrs:{value:a.id}},[t._v(" "+t._s(a.name)+" ")])})),1)],1),e("a-form-model-item",{ref:"AnalysisSoftware",attrs:{label:"AnalysisSoftware",prop:"analysisSoftware"}},[e("a-select",{staticStyle:{width:"200px"},attrs:{mode:"multiple","show-search":"",placeholder:"Select a person","option-filter-prop":"children"},on:{focus:t.analysisSoftwareFocus,search:t.analysisSoftwareSearch},model:{value:t.form.analysisSoftware,callback:function(a){t.$set(t.form,"analysisSoftware",a)},expression:"form.analysisSoftware"}},t._l(t.analysisSoftwareList,(function(a){return e("a-select-option",{key:a.id,attrs:{value:a.id}},[t._v(" "+t._s(a.name)+" ")])})),1)],1),e("a-form-model-item",{attrs:{"wrapper-col":{span:14,offset:4}}},[e("a-button",{attrs:{type:"primary"},on:{click:t.onSubmit}},[t._v("更新Code")]),e("a-button",{staticStyle:{"margin-left":"10px"},on:{click:t.resetForm}},[t._v("重置")])],1)],1)},r=[],n=(e("b0c0"),e("491e")),i=e("f193"),s=e("ba74"),c=e("017e"),l=e("3629"),u=e("47d5"),d=e("3f5e"),f=e("f9fd"),p={data:function(){return{labelCol:{span:4},wrapperCol:{span:14},other:"",projectStatuses:[],value:null,users:[],cancerList:[],studyList:[],dataOriginList:[],dataCategoryList:[],analysisSoftwareList:[],files:[],codeTypeList:[],taskTypeList:[],form:{cancer:void 0,study:void 0,dataOrigin:void 0,dataCategory:void 0,analysisSoftware:void 0,absolutePath:void 0,name:void 0,codeType:void 0,taskType:void 0,prerequisites:void 0,codeOutput:void 0},rules:{name:[{required:!0,message:"请输入Term名称",trigger:"change"}]}}},mounted:function(){var t=this;f["a"].codeType().then((function(a){t.codeTypeList=a.data.data})),f["a"].taskType().then((function(a){t.taskTypeList=a.data.data}));var a=this.$route.query.codeId;this.absolutePath(),u["a"].findById(a,{more:!0}).then((function(a){var e=a.data.data;t.form.codeType=e.codeType,t.form.taskType=e.taskType,t.form.prerequisites=e.prerequisites,t.form.codeOutput=e.codeOutput,e.absolutePath&&(t.form.absolutePath=e.absolutePath),e.name&&(t.form.name=e.name),e.cancer&&(t.cancerList=[e.cancer],t.form.cancer=e.cancer.name),e.study&&(t.studyList=[e.study],t.form.study=e.study.name),e.dataOrigin&&(t.dataOriginList=[e.dataOrigin],t.form.dataOrigin=e.dataOrigin.name),e.dataCategory&&(t.dataCategoryList=[e.dataCategory],t.form.dataCategory=e.dataCategory.name),e.analysisSoftware&&(t.analysisSoftwareList=[e.analysisSoftware],t.form.analysisSoftware=e.analysisSoftware.name)}))},methods:{loadCancer:function(t){var a=this;n["a"].page(t).then((function(t){var e=t.data.data.content;a.cancerList=e}))},loadStudy:function(t){var a=this;i["a"].page(t).then((function(t){var e=t.data.data.content;a.studyList=e}))},loadDataOrigin:function(t){var a=this;s["a"].page(t).then((function(t){var e=t.data.data.content;a.dataOriginList=e}))},loadDataCategory:function(t){var a=this;c["a"].page(t).then((function(t){var e=t.data.data.content;a.dataCategoryList=e}))},loadAnalysisSoftware:function(t){var a=this;l["a"].page(t).then((function(t){var e=t.data.data.content;a.analysisSoftwareList=e}))},onSubmit:function(){var t=this,a=this.$route.query.codeId;this.$refs.ruleForm.validate((function(e){if(!e)return!1;u["a"].update(a,t.form).then((function(a){t.$notification["success"]({message:"更新建成功!"+a.data.message}),t.$router.push("/cancer/codeList")}))}))},resetForm:function(){this.$refs.ruleForm.resetFields()},cancerFocus:function(){this.loadCancer()},cancerSearch:function(t){this.loadCancer({keyword:t})},studyFocus:function(){this.loadStudy()},studySearch:function(t){this.loadStudy({keyword:t})},dataOriginFocus:function(){this.loadDataOrigin()},dataOriginSearch:function(t){this.loadDataOrigin({keyword:t})},dataCategoryFocus:function(){this.loadDataCategory()},dataCategorySearch:function(t){this.loadDataCategory({keyword:t})},analysisSoftwareFocus:function(){this.loadAnalysisSoftware()},analysisSoftwareSearch:function(t){this.loadAnalysisSoftware({keyword:t})},absolutePath:function(){var t=this;d["a"].list("TCGADOWNLOAD/R").then((function(a){t.files=a.data.data}))}}},m=p,h=e("2877"),y=Object(h["a"])(m,o,r,!1,null,null,null);a["default"]=y.exports},"30c0":function(t,a,e){"use strict";e.r(a);var o=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("a-drawer",{attrs:{title:"癌症研究",placement:"right",closable:!1,visible:t.visible,width:"520"},on:{close:t.onClose}},[t.TaskDetail?e("div",[e("a-form-item",{attrs:{label:"sourceCode"}},[e("a-textarea",{attrs:{placeholder:"run log","auto-size":{minRows:3,maxRows:20}},model:{value:t.TaskDetail.sourceCode,callback:function(a){t.$set(t.TaskDetail,"sourceCode",a)},expression:"TaskDetail.sourceCode"}})],1)],1):t._e(),t.Log?e("div",[e("a-form-item",{attrs:{label:"Log"}},[e("a-textarea",{attrs:{placeholder:"run log","auto-size":{minRows:3,maxRows:20}},model:{value:t.Log,callback:function(a){t.Log=a},expression:"Log"}})],1)],1):t._e()]),e("a-button",{on:{click:t.removeALlTask}},[t._v("removeALlTask")]),e("a-table",{attrs:{columns:t.task_columns,"row-key":function(t){return t.id},"data-source":t.data,pagination:!1,loading:t.loading,scroll:{x:"calc(700px + 50%)"}},on:{change:t.handleTableChange},scopedSlots:t._u([{key:"isSuccess",fn:function(a){return e("span",{},[e("a",{attrs:{href:"javascript:;"}},[t._v(t._s(a))])])}},{key:"action",fn:function(a,o){return e("span",{},[e("a",{attrs:{href:"javascript:;"},on:{click:function(a){return t.shutdownTask(o.id)}}},[t._v("结束")]),e("a-divider",{attrs:{type:"vertical"}}),e("a",{attrs:{href:"javascript:;"},on:{click:function(a){return t.runTask(o.id)}}},[t._v("运行")]),e("a-divider",{attrs:{type:"vertical"}}),e("a",{attrs:{href:"javascript:;"},on:{click:function(a){return t.showLog(o.id)}}},[t._v("Log ")]),e("a-divider",{attrs:{type:"vertical"}}),e("a",{attrs:{href:"javascript:;"},on:{click:function(a){return t.showDrawer(o)}}},[t._v("更多")]),e("a-divider",{attrs:{type:"vertical"}}),e("a",{attrs:{href:"javascript:;"},on:{click:function(a){return t.delTask(o.id)}}},[t._v("删除")])],1)}}])},[e("template",{slot:"footer"},[e("div",{staticClass:"page-wrapper",style:{textAlign:"right"}},[e("a-pagination",{staticClass:"pagination",attrs:{current:t.pagination.page,total:t.pagination.total,defaultPageSize:t.pagination.size,pageSizeOptions:["5","10","20","50","100"],showSizeChanger:""},on:{showSizeChange:t.handleTableChange,change:t.handleTableChange}})],1)])],2)],1)},r=[],n=(e("b0c0"),e("b199")),i=[{title:"id",dataIndex:"id"},{title:"name",dataIndex:"name"},{title:"taskStatus",dataIndex:"taskStatus"},{title:"threadName",dataIndex:"threadName"},{title:"isSuccess",dataIndex:"isSuccess",scopedSlots:{customRender:"isSuccess"}},{title:"Action",key:"action",fixed:"right",scopedSlots:{customRender:"action"}}],s={data:function(){return{pagination:{page:1,size:10,sort:null},queryParam:{page:0,size:10,sort:null,keyword:null,categoryId:null,status:null},data:[],loading:!1,task_columns:i,cancerId:null,visible:!1,TaskDetail:void 0,Log:void 0,setIntervaStatus:void 0}},mounted:function(){var t=this;this.loadData(),this.$websock.onmessage=function(){t.loadData()}},methods:{handleTableChange:function(t,a){this.pagination.page=t,this.pagination.size=a,this.loadData()},loadData:function(){var t=this;this.queryParam.page=this.pagination.page-1,this.queryParam.size=this.pagination.size,this.queryParam.sort=this.pagination.sort;var a=this.$route.query.objId;this.queryParam.objId=a,this.loading=!0,n["a"].page(this.queryParam).then((function(a){t.data=a.data.data.content,t.pagination.total=parseInt(a.data.data.totalElements),t.loading=!1}))},delTask:function(t){var a=this.loadData,e=this.$notification["success"];this.$confirm({title:"删除Task数据",content:"您确定要删除该Task数据吗?",onOk:function(){n["a"].del(t).then((function(t){a(),e({message:"删除成功!"+t.data.message})}))},onCancel:function(){}})},showDrawer:function(t){this.TaskDetail=t,console.log(t),this.visible=!0},loadLog:function(t){var a=this;n["a"].log({taskId:t}).then((function(t){a.Log=t.data.data}))},showLog:function(t){this.visible=!0;var a=this.loadLog;a(t),this.setIntervaStatus=setInterval((function(){a(t)}),1e3)},onClose:function(){this.visible=!1,clearInterval(this.setIntervaStatus)},runTask:function(t){var a=this;n["a"].runOne(t).then((function(t){a.loadData(),a.$message.success(t.data.data.name+"运行成功")}))},shutdownTask:function(t){var a=this;n["a"].shutdown(t).then((function(t){a.loadData(),a.$message.success(t.data.data.name+"已经结束")}))},removeALlTask:function(){var t=this;n["a"].removeALlTask().then((function(a){t.loadData(),t.$message.success(a.data.message)}))}}},c=s,l=e("2877"),u=Object(l["a"])(c,o,r,!1,null,null,null);a["default"]=u.exports},3629:function(t,a,e){"use strict";var o=e("9efd"),r="/api/analysis_software",n={page:function(t){return Object(o["a"])({url:"".concat(r),params:t,method:"get"})},del:function(t){return Object(o["a"])({url:"".concat(r,"/del/").concat(t),method:"get"})},add:function(t){return Object(o["a"])({url:r,data:t,method:"post"})},update:function(t,a){return Object(o["a"])({url:"".concat(r,"/update/").concat(t),data:a,method:"post"})},init:function(t){return Object(o["a"])({url:"".concat(r,"/init"),params:t,method:"get"})},createTSVFile:function(){return Object(o["a"])({url:"".concat(r,"/createTSVFile"),method:"post",responseType:"blob"})}};a["a"]=n},"3f5e":function(t,a,e){"use strict";var o=e("9efd"),r="/api/file",n={list:function(t){return Object(o["a"])({url:"".concat(r,"/list"),params:{path:t},method:"get"})}};a["a"]=n},"47d5":function(t,a,e){"use strict";var o=e("9efd"),r="/api/code",n={page:function(t){var a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Object(o["a"])({url:"".concat(r,"?more=").concat(a),params:t,method:"get"})},findByCan:function(t){return Object(o["a"])({url:"".concat(r,"/findByCan/").concat(t),method:"get"})},checkFileExist:function(t){return Object(o["a"])({url:"".concat(r,"/checkFile/").concat(t),method:"get"})},del:function(t){return Object(o["a"])({url:"".concat(r,"/del/").concat(t),method:"get"})},add:function(t){return Object(o["a"])({url:r,data:t,method:"post"})},update:function(t,a){return Object(o["a"])({url:"".concat(r,"/update/").concat(t),data:a,method:"post"})},findById:function(t,a){return Object(o["a"])({url:"".concat(r,"/findById/").concat(t),params:a,method:"get"})},listAll:function(){return Object(o["a"])({url:"".concat(r,"/listAll"),method:"get"})},init:function(t){return Object(o["a"])({url:"".concat(r,"/init"),params:t,method:"get"})},createTSVFile:function(){return Object(o["a"])({url:"".concat(r,"/createTSVFile"),method:"post",responseType:"blob"})},files:function(t){return Object(o["a"])({url:"".concat(r,"/file"),params:{path:t},method:"get"})},getContent:function(t){return Object(o["a"])({url:"".concat(r,"/file/content"),params:{path:t},method:"get"})},saveContent:function(t){return Object(o["a"])({url:"".concat(r,"/file/save"),data:t,method:"post"})}};a["a"]=n},"491e":function(t,a,e){"use strict";var o=e("9efd"),r="/api/cancer",n={page:function(t){return Object(o["a"])({url:"".concat(r),params:t,method:"get"})},del:function(t){return Object(o["a"])({url:"".concat(r,"/del/").concat(t),method:"get"})},add:function(t){return Object(o["a"])({url:r,data:t,method:"post"})},update:function(t,a){return Object(o["a"])({url:"".concat(r,"/update/").concat(t),data:a,method:"post"})},init:function(t){return Object(o["a"])({url:"".concat(r,"/init"),params:t,method:"get"})},createTSVFile:function(){return Object(o["a"])({url:"".concat(r,"/createTSVFile"),method:"post",responseType:"blob"})}};a["a"]=n},"724d":function(t,a,e){"use strict";e("99af");var o=e("9efd"),r="/api/cancer_study",n={page:function(t){var a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Object(o["a"])({url:"".concat(r,"?more=").concat(a),params:t,method:"get"})},pageByCodeId:function(t,a){var e=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Object(o["a"])({url:"".concat(r,"/pageByCodeId/").concat(t,"?more=").concat(e),params:a,method:"get"})},list:function(t){var a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Object(o["a"])({url:"".concat(r,"/list?more=").concat(a),params:t,method:"get"})},listByCancerId:function(t){return Object(o["a"])({url:"".concat(r,"/listByCancerId/").concat(t),method:"get"})},del:function(t){return Object(o["a"])({url:"".concat(r,"/del/").concat(t),method:"get"})},checkFileExist:function(t){return Object(o["a"])({url:"".concat(r,"/checkFile/").concat(t),method:"get"})},add:function(t){return Object(o["a"])({url:r,data:t,method:"post"})},update:function(t,a){return Object(o["a"])({url:"".concat(r,"/update/").concat(t),data:a,method:"post"})},init:function(t){return Object(o["a"])({url:"".concat(r,"/init"),params:t,method:"get"})},findById:function(t,a){return Object(o["a"])({url:"".concat(r,"/findById/").concat(t),params:a,method:"get"})},createTSVFile:function(){return Object(o["a"])({url:"".concat(r,"/createTSVFile"),method:"post",responseType:"blob"})}};a["a"]=n},"81b2":function(t,a,e){"use strict";e.r(a);var o=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("a-drawer",{attrs:{title:"癌症研究",placement:"right",closable:!1,visible:t.visible,width:"520"},on:{close:t.onClose}},[t.CancerStudyDetial?e("div",[e("a-form-model-item",{attrs:{label:"codeOutput"}},[e("a-input",{attrs:{value:t.CancerStudyDetial.codeOutput}})],1),e("a-form-item",{attrs:{label:"cancer"}},[e("a-input",{attrs:{value:JSON.stringify(t.CancerStudyDetial.cancer)}})],1),e("a-form-item",{attrs:{label:"dataCategory"}},[e("a-input",{attrs:{value:JSON.stringify(t.CancerStudyDetial.dataCategory)}})],1),e("a-form-item",{attrs:{label:"dataOrigin"}},[e("a-input",{attrs:{value:JSON.stringify(t.CancerStudyDetial.dataOrigin)}})],1),e("a-form-item",{attrs:{label:"study"}},[e("a-input",{attrs:{value:JSON.stringify(t.CancerStudyDetial.study)}})],1),e("a-form-item",{attrs:{label:"analysisSoftware"}},[e("a-input",{attrs:{value:JSON.stringify(t.CancerStudyDetial.analysisSoftware)}})],1),e("a-form-item",{attrs:{label:"fileName"}},[e("a-input",{attrs:{value:t.CancerStudyDetial.fileName}})],1),e("a-form-item",{attrs:{label:"fileType"}},[e("a-input",{attrs:{value:t.CancerStudyDetial.fileType}})],1),e("a-form-item",{attrs:{label:"absolutePath"}},[e("a-input",{attrs:{value:t.CancerStudyDetial.absolutePath}})],1),e("a-form-item",{attrs:{label:"relativePath"}},[e("a-input",{attrs:{value:t.CancerStudyDetial.relativePath}})],1),e("a-form-item",{attrs:{label:"location"}},[e("a-input",{attrs:{value:t.CancerStudyDetial.location}})],1),e("a-form-item",{attrs:{label:"uuid"}},[e("a-input",{attrs:{value:t.CancerStudyDetial.uuid}})],1),e("a-button",{on:{click:function(a){return t.showLog(t.CancerStudyDetial.id)}}},[t._v("查看日志")]),e("a-button",[t._v("重新下载")])],1):t._e()]),e("a-button",{on:{click:t.createTSVFile}},[t._v("导出CSV")]),e("a-button",{on:{click:function(a){return t.initTSV(!1)}}},[t._v("导入CSV")]),e("a-button",{on:{click:function(a){return t.initTSV(!0)}}},[t._v("清空导入CSV")]),e("a-table",{attrs:{columns:t.columns,"row-key":function(t){return t.id},"data-source":t.data,pagination:!1,loading:t.loading,scroll:{x:1500}},on:{change:t.handleTableChange},scopedSlots:t._u([{key:"action",fn:function(a,o){return e("span",{},[e("a",{attrs:{href:"javascript:;"},on:{click:function(a){return t.checkFileExist(o.id)}}},[t._v(t._s(o.status))]),e("a-divider",{attrs:{type:"vertical"}}),e("a",{attrs:{href:"javascript:;"},on:{click:function(a){return t.showDrawer(o)}}},[t._v("更多")]),e("a-divider",{attrs:{type:"vertical"}}),e("a",{attrs:{href:"javascript:;"},on:{click:function(a){return t.runByCodeId(o.id)}}},[t._v("运行所有")]),e("a-divider",{attrs:{type:"vertical"}}),e("a",{attrs:{href:"javascript:;"},on:{click:function(a){return t.updateCode(o.id)}}},[t._v("编辑")]),e("a-divider",{attrs:{type:"vertical"}}),e("a",{attrs:{href:"javascript:;"},on:{click:function(a){return t.delCancerStudy(o.id)}}},[t._v("删除")])],1)}}])},[e("template",{slot:"footer"},[e("div",{staticClass:"page-wrapper",style:{textAlign:"right"}},[e("a-pagination",{staticClass:"pagination",attrs:{current:t.pagination.page,total:t.pagination.total,defaultPageSize:t.pagination.size,pageSizeOptions:["5","10","20","50","100"],showSizeChanger:""},on:{showSizeChange:t.handleTableChange,change:t.handleTableChange}})],1)])],2)],1)},r=[],n=e("47d5"),i=e("b199"),s=[{title:"id",dataIndex:"id"},{title:"name",dataIndex:"name"},{title:"执行脚本",dataIndex:"codeType"},{title:"任务类型",dataIndex:"taskType"},{title:"大小",dataIndex:"size"},{title:"日期",dataIndex:"createDate"},{title:"Action",key:"action",fixed:"right",scopedSlots:{customRender:"action"}}],c={data:function(){return{pagination:{page:1,size:10,sort:null},queryParam:{page:0,size:10,sort:null,keyword:null,categoryId:null,status:null},data:[],tasks:[],loading:!1,columns:s,cancerId:null,visible:!1,CancerStudyDetial:void 0}},mounted:function(){this.loadData()},methods:{handleTableChange:function(t,a){this.pagination.page=t,this.pagination.size=a,this.loadData()},loadData:function(){var t=this;this.queryParam.page=this.pagination.page-1,this.queryParam.size=this.pagination.size,this.queryParam.sort=this.pagination.sort;var a=this.$route.query.cancerId,e=this.$route.query.studyId,o=this.$route.query.dataOriginId,r=this.$route.query.dataCategoryId,i=this.$route.query.analysisSoftwareId;this.queryParam.cancerId=a,this.queryParam.studyId=e,this.queryParam.dataOriginId=o,this.queryParam.dataCategoryId=r,this.queryParam.analysisSoftwareId=i,this.loading=!0,n["a"].page(this.queryParam,!0).then((function(a){t.data=a.data.data.content,t.pagination.total=parseInt(a.data.data.totalElements),t.loading=!1}))},updateCode:function(t){this.$router.push({name:"update_code",query:{codeId:t}})},delCancerStudy:function(t){var a=this.loadData,e=this.$notification["success"];this.$confirm({title:"删除Code数据",content:"您确定要删除该Code数据吗?",onOk:function(){n["a"].del(t).then((function(t){a(),e({message:"删除成功!"+t.data.message})}))},onCancel:function(){}})},showDrawer:function(t){this.CancerStudyDetial=t,this.visible=!0},onClose:function(){this.visible=!1},checkFileExist:function(t){var a=this.loadData,e=this.$notification["success"],o=this.$notification["error"];n["a"].checkFileExist(t).then((function(t){a(),t.data.data.status?e({message:"文件存在："+t.data.data.absolutePath}):o({message:"文件不存在"+t.data.data.absolutePath})}))},showLog:function(t){this.$router.push({name:"cancer_study_task",query:{objId:t}})},createTSVFile:function(){n["a"].createTSVFile().then((function(t){var a=t.data,e=new FileReader;e.readAsDataURL(a),e.onload=function(a){var e=document.createElement("a");console.log(t),e.download="export.tsv",e.href=a.target.result,document.body.appendChild(e),e.click(),document.body.removeChild(e)}}))},initTSV:function(t){var a=this;n["a"].init({isEmpty:t}).then((function(t){a.loadData(),a.$notification["success"]({message:t.data.message})}))},runByCodeId:function(t){var a=this;i["a"].runByCodeId(t).then((function(t){a.$notification["success"]({message:"运行"+t.data.message})}))}}},l=c,u=e("2877"),d=Object(u["a"])(l,o,r,!1,null,null,null);a["default"]=d.exports},"883d":function(t,a,e){"use strict";e.r(a);var o=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("a-form-model",{ref:"ruleForm",attrs:{model:t.form,rules:t.rules,"label-col":t.labelCol,"wrapper-col":t.wrapperCol}},[e("a-form-model-item",{ref:"name",attrs:{label:"name",prop:"name"}},[e("a-input",{model:{value:t.form.name,callback:function(a){t.$set(t.form,"name",a)},expression:"form.name"}})],1),e("a-form-model-item",{ref:"prerequisites",attrs:{label:"prerequisites",prop:"prerequisites"}},[e("a-input",{model:{value:t.form.prerequisites,callback:function(a){t.$set(t.form,"prerequisites",a)},expression:"form.prerequisites"}})],1),e("a-form-model-item",{ref:"taskType",attrs:{label:"taskType",prop:"taskType"}},[e("a-select",{staticStyle:{width:"200px"},attrs:{"show-search":"",placeholder:"Select a person","option-filter-prop":"children"},model:{value:t.form.taskType,callback:function(a){t.$set(t.form,"taskType",a)},expression:"form.taskType"}},t._l(t.taskTypeList,(function(a){return e("a-select-option",{key:a.key,attrs:{value:a.key}},[t._v(" "+t._s(a.value)+" ")])})),1)],1),e("a-form-model-item",{ref:"codeType",attrs:{label:"codeType",prop:"codeType"}},[e("a-select",{staticStyle:{width:"200px"},attrs:{"show-search":"",placeholder:"Select a person","option-filter-prop":"children"},model:{value:t.form.codeType,callback:function(a){t.$set(t.form,"codeType",a)},expression:"form.codeType"}},t._l(t.codeTypeList,(function(a){return e("a-select-option",{key:a.key,attrs:{value:a.key}},[t._v(" "+t._s(a.value)+" ")])})),1)],1),e("a-form-model-item",{ref:"absolutePath",attrs:{label:"absolutePath",prop:"absolutePath"}},[e("a-select",{attrs:{"show-search":"",placeholder:"Select a person","option-filter-prop":"children"},on:{focus:t.absolutePath},model:{value:t.form.absolutePath,callback:function(a){t.$set(t.form,"absolutePath",a)},expression:"form.absolutePath"}},t._l(t.files,(function(a){return e("a-select-option",{key:a.fileName,attrs:{value:a.absolutePath}},[t._v(" "+t._s(a.fileName)+" ")])})),1)],1),e("a-form-model-item",{ref:"Cancer",attrs:{label:"Cancer",prop:"cancer"}},[e("a-select",{staticStyle:{width:"200px"},attrs:{mode:"multiple","show-search":"",placeholder:"Select a person","option-filter-prop":"children"},on:{focus:t.cancerFocus,search:t.cancerSearch},model:{value:t.form.cancer,callback:function(a){t.$set(t.form,"cancer",a)},expression:"form.cancer"}},t._l(t.cancerList,(function(a){return e("a-select-option",{key:a.id,attrs:{value:a.id}},[t._v(" "+t._s(a.name)+" ")])})),1)],1),e("a-form-model-item",{ref:"Study",attrs:{label:"Study",prop:"study"}},[e("a-select",{staticStyle:{width:"200px"},attrs:{mode:"multiple","show-search":"",placeholder:"Select a person","option-filter-prop":"children"},on:{focus:t.studyFocus,search:t.studySearch},model:{value:t.form.study,callback:function(a){t.$set(t.form,"study",a)},expression:"form.study"}},t._l(t.studyList,(function(a){return e("a-select-option",{key:a.id,attrs:{value:a.id}},[t._v(" "+t._s(a.name)+" ")])})),1)],1),e("a-form-model-item",{ref:"DataOrigin",attrs:{label:"DataOrigin",prop:"dataOrigin"}},[e("a-select",{staticStyle:{width:"200px"},attrs:{mode:"multiple","show-search":"",placeholder:"Select a person","option-filter-prop":"children"},on:{focus:t.dataOriginFocus,search:t.dataOriginSearch},model:{value:t.form.dataOrigin,callback:function(a){t.$set(t.form,"dataOrigin",a)},expression:"form.dataOrigin"}},t._l(t.dataOriginList,(function(a){return e("a-select-option",{key:a.id,attrs:{value:a.id}},[t._v(" "+t._s(a.name)+" ")])})),1)],1),e("a-form-model-item",{ref:"DataCategory",attrs:{label:"DataCategory",prop:"dataCategory"}},[e("a-select",{staticStyle:{width:"200px"},attrs:{mode:"multiple","show-search":"",placeholder:"Select a person","option-filter-prop":"children"},on:{focus:t.dataCategoryFocus,search:t.dataCategorySearch},model:{value:t.form.dataCategory,callback:function(a){t.$set(t.form,"dataCategory",a)},expression:"form.dataCategory"}},t._l(t.dataCategoryList,(function(a){return e("a-select-option",{key:a.id,attrs:{value:a.id}},[t._v(" "+t._s(a.name)+" ")])})),1)],1),e("a-form-model-item",{ref:"AnalysisSoftware",attrs:{label:"AnalysisSoftware",prop:"analysisSoftware"}},[e("a-select",{staticStyle:{width:"200px"},attrs:{mode:"multiple","show-search":"",placeholder:"Select a person","option-filter-prop":"children"},on:{focus:t.analysisSoftwareFocus,search:t.analysisSoftwareSearch},model:{value:t.form.analysisSoftware,callback:function(a){t.$set(t.form,"analysisSoftware",a)},expression:"form.analysisSoftware"}},t._l(t.analysisSoftwareList,(function(a){return e("a-select-option",{key:a.id,attrs:{value:a.id}},[t._v(" "+t._s(a.name)+" ")])})),1)],1),e("a-form-model-item",{attrs:{"wrapper-col":{span:14,offset:4}}},[e("a-button",{attrs:{type:"primary"},on:{click:t.onSubmit}},[t._v("添加Code")]),e("a-button",{staticStyle:{"margin-left":"10px"},on:{click:t.resetForm}},[t._v("重置")])],1)],1)},r=[],n=e("491e"),i=e("3f5e"),s=e("f193"),c=e("ba74"),l=e("017e"),u=e("3629"),d=e("f9fd"),f=e("47d5"),p={data:function(){return{labelCol:{span:4},wrapperCol:{span:14},other:"",projectStatuses:[],value:null,users:[],cancerList:[],studyList:[],dataOriginList:[],dataCategoryList:[],analysisSoftwareList:[],codeTypeList:[],taskTypeList:[],files:[],form:{cancer:[],study:[],dataOrigin:[],dataCategory:[],analysisSoftware:[],absolutePath:void 0,name:void 0,codeType:void 0,taskType:void 0,prerequisites:void 0},rules:{name:[{required:!0,message:"请输入Term名称",trigger:"change"}]}}},mounted:function(){var t=this;d["a"].codeType().then((function(a){t.codeTypeList=a.data.data})),d["a"].taskType().then((function(a){t.taskTypeList=a.data.data}))},methods:{loadCancer:function(t){var a=this;n["a"].page(t).then((function(t){var e=t.data.data.content;a.cancerList=e,a.cancerList.push([])}))},loadStudy:function(t){var a=this;s["a"].page(t).then((function(t){var e=t.data.data.content;a.studyList=e}))},loadDataOrigin:function(t){var a=this;c["a"].page(t).then((function(t){var e=t.data.data.content;a.dataOriginList=e}))},loadDataCategory:function(t){var a=this;l["a"].page(t).then((function(t){var e=t.data.data.content;a.dataCategoryList=e}))},loadAnalysisSoftware:function(t){var a=this;u["a"].page(t).then((function(t){var e=t.data.data.content;a.analysisSoftwareList=e}))},onSubmit:function(){var t=this;console.log(this.form),this.$refs.ruleForm.validate((function(a){if(!a)return!1;f["a"].add(t.form).then((function(a){t.$notification["success"]({message:"添加建成功!"+a.data.message}),t.$router.push("/cancer/codeList")}))}))},resetForm:function(){this.$refs.ruleForm.resetFields()},cancerFocus:function(){this.loadCancer()},cancerSearch:function(t){this.loadCancer({keyword:t})},studyFocus:function(){this.loadStudy()},studySearch:function(t){this.loadStudy({keyword:t})},dataOriginFocus:function(){this.loadDataOrigin()},dataOriginSearch:function(t){this.loadDataOrigin({keyword:t})},dataCategoryFocus:function(){this.loadDataCategory()},dataCategorySearch:function(t){this.loadDataCategory({keyword:t})},analysisSoftwareFocus:function(){this.loadAnalysisSoftware()},analysisSoftwareSearch:function(t){this.loadAnalysisSoftware({keyword:t})},absolutePath:function(){var t=this;i["a"].list("TCGADOWNLOAD/R").then((function(a){t.files=a.data.data}))}}},m=p,h=e("2877"),y=Object(h["a"])(m,o,r,!1,null,null,null);a["default"]=y.exports},b199:function(t,a,e){"use strict";var o=e("9efd"),r="/api/task",n={page:function(t){return Object(o["a"])({url:"".concat(r),params:t,method:"get"})},run:function(t){return Object(o["a"])({url:"".concat(r,"/run"),params:t,method:"get"})},log:function(t){return Object(o["a"])({url:"".concat(r,"/log"),params:t,method:"get"})},runOne:function(t){return Object(o["a"])({url:"".concat(r,"/run/").concat(t),method:"get"})},shutdown:function(t){return Object(o["a"])({url:"".concat(r,"/shutdown/").concat(t),method:"get"})},del:function(t){return Object(o["a"])({url:"".concat(r,"/del/").concat(t),method:"get"})},findById:function(t){return Object(o["a"])({url:"".concat(r,"/findById/").concat(t),method:"get"})},runCodes:function(t){return Object(o["a"])({url:"".concat(r,"/runCodes"),data:t,method:"post"})},runByCodeId:function(t){return Object(o["a"])({url:"".concat(r,"/runByCodeId/").concat(t),method:"get"})},removeALlTask:function(){return Object(o["a"])({url:"".concat(r,"/removeALlTask"),method:"get"})},getObjMap:function(t){return Object(o["a"])({url:"".concat(r,"/getObjMap/").concat(t),method:"get"})}};a["a"]=n},ba74:function(t,a,e){"use strict";var o=e("9efd"),r="/api/data_origin",n={page:function(t){return Object(o["a"])({url:"".concat(r),params:t,method:"get"})},del:function(t){return Object(o["a"])({url:"".concat(r,"/del/").concat(t),method:"get"})},add:function(t){return Object(o["a"])({url:r,data:t,method:"post"})},update:function(t,a){return Object(o["a"])({url:"".concat(r,"/update/").concat(t),data:a,method:"post"})},init:function(t){return Object(o["a"])({url:"".concat(r,"/init"),params:t,method:"get"})},createTSVFile:function(){return Object(o["a"])({url:"".concat(r,"/createTSVFile"),method:"post",responseType:"blob"})}};a["a"]=n},cc1e:function(t,a,e){"use strict";e.r(a);var o=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("a-form-model",{ref:"ruleForm",attrs:{model:t.form,rules:t.rules,"label-col":t.labelCol,"wrapper-col":t.wrapperCol}},[e("a-form-model-item",{ref:"Cancer",attrs:{label:"Cancer",prop:"cancer"}},[e("a-select",{staticStyle:{width:"200px"},attrs:{"show-search":"",placeholder:"Select a person","option-filter-prop":"children"},on:{focus:t.cancerFocus,search:t.cancerSearch},model:{value:t.form.cancer,callback:function(a){t.$set(t.form,"cancer",a)},expression:"form.cancer"}},t._l(t.cancerList,(function(a){return e("a-select-option",{key:a.id,attrs:{value:a.enName}},[t._v(" "+t._s(a.name)+" ")])})),1)],1),e("a-form-model-item",{ref:"Study",attrs:{label:"Study",prop:"study"}},[e("a-select",{staticStyle:{width:"200px"},attrs:{"show-search":"",placeholder:"Select a person","option-filter-prop":"children"},on:{focus:t.studyFocus,search:t.studySearch},model:{value:t.form.study,callback:function(a){t.$set(t.form,"study",a)},expression:"form.study"}},t._l(t.studyList,(function(a){return e("a-select-option",{key:a.id,attrs:{value:a.enName}},[t._v(" "+t._s(a.name)+" ")])})),1)],1),e("a-form-model-item",{ref:"DataOrigin",attrs:{label:"DataOrigin",prop:"dataOrigin"}},[e("a-select",{staticStyle:{width:"200px"},attrs:{"show-search":"",placeholder:"Select a person","option-filter-prop":"children"},on:{focus:t.dataOriginFocus,search:t.dataOriginSearch},model:{value:t.form.dataOrigin,callback:function(a){t.$set(t.form,"dataOrigin",a)},expression:"form.dataOrigin"}},t._l(t.dataOriginList,(function(a){return e("a-select-option",{key:a.id,attrs:{value:a.enName}},[t._v(" "+t._s(a.name)+" ")])})),1)],1),e("a-form-model-item",{ref:"DataCategory",attrs:{label:"DataCategory",prop:"dataCategory"}},[e("a-select",{staticStyle:{width:"200px"},attrs:{"show-search":"",placeholder:"Select a person","option-filter-prop":"children"},on:{focus:t.dataCategoryFocus,search:t.dataCategorySearch},model:{value:t.form.dataCategory,callback:function(a){t.$set(t.form,"dataCategory",a)},expression:"form.dataCategory"}},t._l(t.dataCategoryList,(function(a){return e("a-select-option",{key:a.id,attrs:{value:a.enName}},[t._v(" "+t._s(a.name)+" ")])})),1)],1),e("a-form-model-item",{ref:"AnalysisSoftware",attrs:{label:"AnalysisSoftware",prop:"analysisSoftware"}},[e("a-select",{staticStyle:{width:"200px"},attrs:{"show-search":"",placeholder:"Select a person","option-filter-prop":"children"},on:{focus:t.analysisSoftwareFocus,search:t.analysisSoftwareSearch},model:{value:t.form.analysisSoftware,callback:function(a){t.$set(t.form,"analysisSoftware",a)},expression:"form.analysisSoftware"}},t._l(t.analysisSoftwareList,(function(a){return e("a-select-option",{key:a.id,attrs:{value:a.enName}},[t._v(" "+t._s(a.name)+" ")])})),1)],1),e("a-form-model-item",{ref:"gse",attrs:{label:"gse",prop:"gse"}},[e("a-input",{model:{value:t.form.gse,callback:function(a){t.$set(t.form,"gse",a)},expression:"form.gse"}})],1),e("a-form-model-item",{ref:"absolutePath",attrs:{label:"absolutePath",prop:"absolutePath"}},[e("a-input",{model:{value:t.form.absolutePath,callback:function(a){t.$set(t.form,"absolutePath",a)},expression:"form.absolutePath"}})],1),e("a-form-model-item",{ref:"description",attrs:{label:"description",prop:"description"}},[e("a-input",{model:{value:t.form.description,callback:function(a){t.$set(t.form,"description",a)},expression:"form.description"}})],1),e("a-form-model-item",{ref:"param",attrs:{label:"param",prop:"param"}},[e("a-input",{model:{value:t.form.param,callback:function(a){t.$set(t.form,"param",a)},expression:"form.param"}})],1),e("a-form-model-item",{attrs:{"wrapper-col":{span:14,offset:4}}},[e("a-button",{attrs:{type:"primary"},on:{click:t.onSubmit}},[t._v("添加癌症研究")]),e("a-button",{staticStyle:{"margin-left":"10px"},on:{click:t.resetForm}},[t._v("重置")])],1)],1)},r=[],n=e("491e"),i=e("f193"),s=e("ba74"),c=e("017e"),l=e("3629"),u=e("724d"),d={data:function(){return{labelCol:{span:4},wrapperCol:{span:14},other:"",projectStatuses:[],value:null,users:[],cancerList:[],studyList:[],dataOriginList:[],dataCategoryList:[],analysisSoftwareList:[],form:{cancer:void 0,study:void 0,dataOrigin:void 0,dataCategory:void 0,analysisSoftware:void 0,absolutePath:void 0,gse:void 0,param:void 0},rules:{}}},created:function(){},methods:{loadCancer:function(t){var a=this;n["a"].page(t).then((function(t){var e=t.data.data.content;a.cancerList=e}))},loadStudy:function(t){var a=this;i["a"].page(t).then((function(t){var e=t.data.data.content;a.studyList=e}))},loadDataOrigin:function(t){var a=this;s["a"].page(t).then((function(t){var e=t.data.data.content;a.dataOriginList=e}))},loadDataCategory:function(t){var a=this;c["a"].page(t).then((function(t){var e=t.data.data.content;a.dataCategoryList=e}))},loadAnalysisSoftware:function(t){var a=this;l["a"].page(t).then((function(t){var e=t.data.data.content;a.analysisSoftwareList=e}))},onSubmit:function(){var t=this;this.$refs.ruleForm.validate((function(a){if(!a)return!1;u["a"].add(t.form).then((function(a){t.$notification["success"]({message:"添加建成功!"+a.data.message}),t.$router.push("/cancer/cancer_detial")}))}))},resetForm:function(){this.$refs.ruleForm.resetFields()},cancerFocus:function(){this.loadCancer()},cancerSearch:function(t){this.loadCancer({keyword:t})},studyFocus:function(){this.loadStudy()},studySearch:function(t){this.loadStudy({keyword:t})},dataOriginFocus:function(){this.loadDataOrigin()},dataOriginSearch:function(t){this.loadDataOrigin({keyword:t})},dataCategoryFocus:function(){this.loadDataCategory()},dataCategorySearch:function(t){this.loadDataCategory({keyword:t})},analysisSoftwareFocus:function(){this.loadAnalysisSoftware()},analysisSoftwareSearch:function(t){this.loadAnalysisSoftware({keyword:t})}}},f=d,p=e("2877"),m=Object(p["a"])(f,o,r,!1,null,null,null);a["default"]=m.exports},ea41:function(t,a,e){"use strict";e.r(a);var o=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("a-form-model",{ref:"ruleForm",attrs:{model:t.form,rules:t.rules,"label-col":t.labelCol,"wrapper-col":t.wrapperCol}},[e("a-form-model-item",{ref:"Cancer",attrs:{label:"Cancer",prop:"cancer"}},[e("a-select",{staticStyle:{width:"200px"},attrs:{"show-search":"",placeholder:"Select a person","option-filter-prop":"children"},on:{focus:t.cancerFocus,search:t.cancerSearch},model:{value:t.form.cancer,callback:function(a){t.$set(t.form,"cancer",a)},expression:"form.cancer"}},t._l(t.cancerList,(function(a){return e("a-select-option",{key:a.id,attrs:{value:a.enName}},[t._v(" "+t._s(a.name)+" ")])})),1)],1),e("a-form-model-item",{ref:"Study",attrs:{label:"Study",prop:"study"}},[e("a-select",{staticStyle:{width:"200px"},attrs:{"show-search":"",placeholder:"Select a person","option-filter-prop":"children"},on:{focus:t.studyFocus,search:t.studySearch},model:{value:t.form.study,callback:function(a){t.$set(t.form,"study",a)},expression:"form.study"}},t._l(t.studyList,(function(a){return e("a-select-option",{key:a.id,attrs:{value:a.enName}},[t._v(" "+t._s(a.name)+" ")])})),1)],1),e("a-form-model-item",{ref:"DataOrigin",attrs:{label:"DataOrigin",prop:"dataOrigin"}},[e("a-select",{staticStyle:{width:"200px"},attrs:{"show-search":"",placeholder:"Select a person","option-filter-prop":"children"},on:{focus:t.dataOriginFocus,search:t.dataOriginSearch},model:{value:t.form.dataOrigin,callback:function(a){t.$set(t.form,"dataOrigin",a)},expression:"form.dataOrigin"}},t._l(t.dataOriginList,(function(a){return e("a-select-option",{key:a.id,attrs:{value:a.enName}},[t._v(" "+t._s(a.name)+" ")])})),1)],1),e("a-form-model-item",{ref:"DataCategory",attrs:{label:"DataCategory",prop:"dataCategory"}},[e("a-select",{staticStyle:{width:"200px"},attrs:{"show-search":"",placeholder:"Select a person","option-filter-prop":"children"},on:{focus:t.dataCategoryFocus,search:t.dataCategorySearch},model:{value:t.form.dataCategory,callback:function(a){t.$set(t.form,"dataCategory",a)},expression:"form.dataCategory"}},t._l(t.dataCategoryList,(function(a){return e("a-select-option",{key:a.id,attrs:{value:a.enName}},[t._v(" "+t._s(a.name)+" ")])})),1)],1),e("a-form-model-item",{ref:"AnalysisSoftware",attrs:{label:"AnalysisSoftware",prop:"analysisSoftware"}},[e("a-select",{staticStyle:{width:"200px"},attrs:{"show-search":"",placeholder:"Select a person","option-filter-prop":"children"},on:{focus:t.analysisSoftwareFocus,search:t.analysisSoftwareSearch},model:{value:t.form.analysisSoftware,callback:function(a){t.$set(t.form,"analysisSoftware",a)},expression:"form.analysisSoftware"}},t._l(t.analysisSoftwareList,(function(a){return e("a-select-option",{key:a.id,attrs:{value:a.enName}},[t._v(" "+t._s(a.name)+" ")])})),1)],1),e("a-form-model-item",{ref:"gse",attrs:{label:"gse",prop:"gse"}},[e("a-input",{model:{value:t.form.gse,callback:function(a){t.$set(t.form,"gse",a)},expression:"form.gse"}})],1),e("a-form-model-item",{ref:"absolutePath",attrs:{label:"absolutePath",prop:"absolutePath"}},[e("a-input",{model:{value:t.form.absolutePath,callback:function(a){t.$set(t.form,"absolutePath",a)},expression:"form.absolutePath"}})],1),e("a-form-model-item",{ref:"description",attrs:{label:"description",prop:"description"}},[e("a-input",{model:{value:t.form.description,callback:function(a){t.$set(t.form,"description",a)},expression:"form.description"}})],1),e("a-form-model-item",{ref:"param",attrs:{label:"param",prop:"param"}},[e("a-input",{model:{value:t.form.param,callback:function(a){t.$set(t.form,"param",a)},expression:"form.param"}})],1),e("a-form-model-item",{attrs:{"wrapper-col":{span:14,offset:4}}},[e("a-button",{attrs:{type:"primary"},on:{click:t.onSubmit}},[t._v("更新癌症研究")]),e("a-button",{staticStyle:{"margin-left":"10px"},on:{click:t.resetForm}},[t._v("重置")])],1)],1)},r=[],n=(e("b0c0"),e("491e")),i=e("f193"),s=e("ba74"),c=e("017e"),l=e("3629"),u=e("724d"),d={data:function(){return{labelCol:{span:4},wrapperCol:{span:14},other:"",projectStatuses:[],value:null,users:[],cancerList:[],studyList:[],dataOriginList:[],dataCategoryList:[],analysisSoftwareList:[],form:{cancer:void 0,study:void 0,dataOrigin:void 0,dataCategory:void 0,analysisSoftware:void 0,absolutePath:void 0,gse:void 0,param:void 0},rules:{}}},created:function(){var t=this,a=this.$route.query.cancerStudyId;u["a"].findById(a,{more:!0}).then((function(a){var e=a.data.data;t.form.absolutePath=e.absolutePath,t.form.gse=e.gse,t.form.param=e.param,e.cancer&&(t.cancerList=[e.cancer],t.form.cancer=e.cancer.name),e.study&&(t.studyList=[e.study],t.form.study=e.study.name),e.dataOrigin&&(t.dataOriginList=[e.dataOrigin],t.form.dataOrigin=e.dataOrigin.name),e.dataCategory&&(t.dataCategoryList=[e.dataCategory],t.form.dataCategory=e.dataCategory.name),e.analysisSoftware&&(t.analysisSoftwareList=[e.analysisSoftware],t.form.analysisSoftware=e.analysisSoftware.name)}))},methods:{loadCancer:function(t){var a=this;n["a"].page(t).then((function(t){var e=t.data.data.content;a.cancerList=e}))},loadStudy:function(t){var a=this;i["a"].page(t).then((function(t){var e=t.data.data.content;a.studyList=e}))},loadDataOrigin:function(t){var a=this;s["a"].page(t).then((function(t){var e=t.data.data.content;a.dataOriginList=e}))},loadDataCategory:function(t){var a=this;c["a"].page(t).then((function(t){var e=t.data.data.content;a.dataCategoryList=e}))},loadAnalysisSoftware:function(t){var a=this;l["a"].page(t).then((function(t){var e=t.data.data.content;a.analysisSoftwareList=e}))},onSubmit:function(){var t=this,a=this.$route.query.cancerStudyId;this.$refs.ruleForm.validate((function(e){if(!e)return!1;u["a"].update(a,t.form).then((function(a){t.$notification["success"]({message:"更新建成功!"+a.data.message}),t.$router.push("/cancer/cancer_detial")}))}))},resetForm:function(){this.$refs.ruleForm.resetFields()},cancerFocus:function(){this.loadCancer()},cancerSearch:function(t){this.loadCancer({keyword:t})},studyFocus:function(){this.loadStudy()},studySearch:function(t){this.loadStudy({keyword:t})},dataOriginFocus:function(){this.loadDataOrigin()},dataOriginSearch:function(t){this.loadDataOrigin({keyword:t})},dataCategoryFocus:function(){this.loadDataCategory()},dataCategorySearch:function(t){this.loadDataCategory({keyword:t})},analysisSoftwareFocus:function(){this.loadAnalysisSoftware()},analysisSoftwareSearch:function(t){this.loadAnalysisSoftware({keyword:t})}}},f=d,p=e("2877"),m=Object(p["a"])(f,o,r,!1,null,null,null);a["default"]=m.exports},eea8:function(t,a,e){"use strict";e.r(a);var o=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("a-modal",{attrs:{title:"Cancer"},on:{ok:t.addOrUpdate},model:{value:t.visibleDialog,callback:function(a){t.visibleDialog=a},expression:"visibleDialog"}},[e("a-form-model",{ref:"ruleForm",attrs:{model:t.form,rules:t.rules}},[e("a-form-model-item",{ref:"name",attrs:{label:"name",prop:"name"}},[e("a-input",{model:{value:t.form.name,callback:function(a){t.$set(t.form,"name",a)},expression:"form.name"}})],1),e("a-form-model-item",{ref:"enName",attrs:{label:"enName",prop:"enName"}},[e("a-input",{model:{value:t.form.enName,callback:function(a){t.$set(t.form,"enName",a)},expression:"form.enName"}})],1),e("a-form-model-item",{ref:"description",attrs:{label:"description",prop:"description"}},[e("a-input",{model:{value:t.form.description,callback:function(a){t.$set(t.form,"description",a)},expression:"form.description"}})],1)],1)],1),e("a-button",{on:{click:t.addInput}},[t._v("添加")]),e("a-button",{on:{click:t.createTSVFile}},[t._v("导出CSV")]),e("a-button",{on:{click:function(a){return t.initTSV(!1)}}},[t._v("导入CSV")]),e("a-button",{on:{click:function(a){return t.initTSV(!0)}}},[t._v("清空导入CSV")]),e("a-input-search",{staticStyle:{width:"200px"},attrs:{placeholder:"input search text"},on:{search:t.onSearch}}),e("a-table",{attrs:{columns:t.columns,"row-key":function(t){return t.id},"data-source":t.data,pagination:!1,loading:t.loading},on:{change:t.handleTableChange},scopedSlots:t._u([{key:"name",fn:function(a,o){return e("div",{},[e("a",{attrs:{href:"javascript:;"},on:{click:function(a){return t.detial(o.id)}}},[t._v(t._s(a))])])}},{key:"action",fn:function(a,o){return e("span",{},[e("a-divider",{attrs:{type:"vertical"}}),e("a",{attrs:{href:"javascript:;"},on:{click:function(a){return t.updateInput(o)}}},[t._v("编辑")]),e("a-divider",{attrs:{type:"vertical"}}),e("a",{attrs:{href:"javascript:;"},on:{click:function(a){return t.del(o.id)}}},[t._v("删除")])],1)}}])},[e("template",{slot:"footer"},[e("div",{staticClass:"page-wrapper",style:{textAlign:"right"}},[e("a-pagination",{staticClass:"pagination",attrs:{current:t.pagination.page,total:t.pagination.total,defaultPageSize:t.pagination.size,pageSizeOptions:["5","10","20","50","100"],showSizeChanger:""},on:{showSizeChange:t.handleTableChange,change:t.handleTableChange}})],1)])],2)],1)},r=[],n=e("491e"),i=[{title:"id",dataIndex:"id"},{title:"癌症名称",dataIndex:"name",scopedSlots:{customRender:"name"}},{title:"英文名称",dataIndex:"enName"},{title:"创建日期",dataIndex:"createDate"},{title:"Action",key:"action",fixed:"right",scopedSlots:{customRender:"action"}}],s={data:function(){return{pagination:{page:1,size:10,sort:null,keyword:null},queryParam:{page:0,size:10,sort:null,keyword:null,categoryId:null,status:null},data:[],loading:!1,columns:i,visibleDialog:!1,isUpdate:!1,form:{name:void 0,enName:void 0,description:void 0},rules:{enName:[{required:!0,message:"请输入名称",trigger:"change"}],name:[{required:!0,message:"请输入名称",trigger:"change"}]}}},mounted:function(){this.loadData()},methods:{handleTableChange:function(t,a){this.pagination.page=t,this.pagination.size=a,this.loadData()},loadData:function(){var t=this;this.queryParam.page=this.pagination.page-1,this.queryParam.size=this.pagination.size,this.queryParam.sort=this.pagination.sort,this.queryParam.keyword=this.pagination.keyword,this.loading=!0,n["a"].page(this.queryParam).then((function(a){t.data=a.data.data.content,t.pagination.total=parseInt(a.data.data.totalElements),t.loading=!1}))},detial:function(t){this.$router.push({name:"cancer_cancer_detial",query:{cancerId:t}})},del:function(t){var a=this.loadData,e=this.$notification["success"];this.$confirm({title:"删除癌症数据",content:"您确定要删除该癌症数据吗?",onOk:function(){n["a"].del(t).then((function(t){a(),e({message:"删除成功!"+t.data.message})}))},onCancel:function(){}})},onSearch:function(t){this.pagination.keyword=t,this.loadData()},addInput:function(){this.form={},this.visibleDialog=!0,this.isUpdate=!1},updateInput:function(t){this.visibleDialog=!0,this.isUpdate=!0,this.form=t},add:function(){var t=this;n["a"].add(this.form).then((function(a){t.$notification["success"]({message:"添加"+a.data.message}),t.visibleDialog=!1,t.loadData()}))},update:function(){var t=this;n["a"].update(this.form.id,this.form).then((function(a){t.$notification["success"]({message:"添加"+a.data.message}),t.visibleDialog=!1,t.loadData()}))},addOrUpdate:function(){var t=this;this.$refs.ruleForm.validate((function(a){if(!a)return!1;t.isUpdate?t.update():t.add()}))},createTSVFile:function(){n["a"].createTSVFile().then((function(t){var a=t.data,e=new FileReader;e.readAsDataURL(a),e.onload=function(a){var e=document.createElement("a");console.log(t),e.download="export.tsv",e.href=a.target.result,document.body.appendChild(e),e.click(),document.body.removeChild(e)}}))},initTSV:function(t){var a=this;n["a"].init({isEmpty:t}).then((function(t){a.loadData(),a.$notification["success"]({message:t.data.message})}))}}},c=s,l=e("2877"),u=Object(l["a"])(c,o,r,!1,null,null,null);a["default"]=u.exports},f193:function(t,a,e){"use strict";var o=e("9efd"),r="/api/study",n={page:function(t){return Object(o["a"])({url:"".concat(r),params:t,method:"get"})},del:function(t){return Object(o["a"])({url:"".concat(r,"/del/").concat(t),method:"get"})},add:function(t){return Object(o["a"])({url:r,data:t,method:"post"})},update:function(t,a){return Object(o["a"])({url:"".concat(r,"/update/").concat(t),data:a,method:"post"})},init:function(t){return Object(o["a"])({url:"".concat(r,"/init"),params:t,method:"get"})},createTSVFile:function(){return Object(o["a"])({url:"".concat(r,"/createTSVFile"),method:"post",responseType:"blob"})}};a["a"]=n},f9fd:function(t,a,e){"use strict";var o=e("9efd"),r="/api/enum",n={projectStatuses:function(){return Object(o["a"])({url:"".concat(r,"/projectStatuses"),method:"get"})},codeType:function(){return Object(o["a"])({url:"".concat(r,"/codeType"),method:"get"})},taskType:function(){return Object(o["a"])({url:"".concat(r,"/taskType"),method:"get"})}};a["a"]=n}}]);
//# sourceMappingURL=cancer_list.10c97f41.js.map