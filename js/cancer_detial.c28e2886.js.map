{"version":3,"sources":["webpack:///./src/api/code.js","webpack:///./src/api/CancerStudy.js","webpack:///./src/views/cancer/CancerDetial.vue?2d3d","webpack:///src/views/cancer/CancerDetial.vue","webpack:///./src/views/cancer/CancerDetial.vue?8955","webpack:///./src/views/cancer/CancerDetial.vue","webpack:///./src/api/task.js"],"names":["baseUrl","CodeApi","params","more","service","url","method","id","data","CancerStudyApi","render","_vm","this","_h","$createElement","_c","_self","attrs","visible","on","onClose","CancerStudyDetial","fileName","fileType","absolutePath","location","uuid","_l","item","key","$event","runTask","_v","_s","name","minRows","maxRows","model","value","callback","$$v","runMsg","expression","_e","task_columns","taskList","record","showLog","columns","loading","handleTableChange","scopedSlots","_u","fn","text","updateCancerStudy","checkFileExist","status","showDrawer","delCancerStudy","slot","staticClass","style","textAlign","pagination","page","total","size","staticRenderFns","sort","queryParam","keyword","categoryId","tasks","cancerId","undefined","codeList","mounted","loadData","$websock","onmessage","methods","pageSize","studyId","dataOriginId","dataCategoryId","analysisSoftwareId","CancerStudy","updateProject","$router","push","query","delProject","message","resp","$confirm","title","content","onOk","notification","onCancel","loadTask","notification_error","component","TaskApi"],"mappings":"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","file":"js/cancer_detial.c28e2886.js","sourcesContent":["import service from '@/utils/service'\nconst baseUrl = '/api/code'\n\nconst CodeApi = {}\n\nCodeApi.page = (params,more=false) =>{\n    return service({\n        url: `${baseUrl}?more=${more}`,\n        params: params,\n        method: 'get'\n    })\n}\n\n\nCodeApi.findByCan = (id) => {\n    return service({\n        url: `${baseUrl}/findByCan/${id}`,\n        method: 'get'\n    })\n}\nCodeApi.checkFileExist = (id) => {\n    return service({\n        url: `${baseUrl}/checkFile/${id}`,\n        method: 'get'\n    })\n}\n\n\nCodeApi.del = (id) => {\n    return service({\n        url: `${baseUrl}/del/${id}`,\n        method: 'get'\n    })\n}\n\nCodeApi.add = (params) => {\n    return service({\n        url: baseUrl,\n        data: params,\n        method: 'post'\n    })\n}\n\nCodeApi.update = (id,params) => {\n    return service({\n        url: `${baseUrl}/update/${id}`,\n        data: params,\n        method: 'post'\n    })\n}\n\n\nCodeApi.findById = (id,params) => {\n    return service({\n        url: `${baseUrl}/findById/${id}`,\n        params:params,\n        method: 'get'\n    })\n}\nexport default CodeApi","import service from '@/utils/service'\nconst baseUrl = '/api/cancer_study'\n\nconst CancerStudyApi = {}\n\nCancerStudyApi.page = (params,more=false) =>{\n    return service({\n        url: `${baseUrl}?more=${more}`,\n        params: params,\n        method: 'get'\n    })\n}\n\n\nCancerStudyApi.listByCancerId = (id) =>{\n    return service({\n        url: `${baseUrl}/listByCancerId/${id}`,\n        method: 'get'\n    })\n}\n\nCancerStudyApi.del = (id) => {\n    return service({\n        url: `${baseUrl}/del/${id}`,\n        method: 'get'\n    })\n}\n\nCancerStudyApi.checkFileExist = (id) => {\n    return service({\n        url: `${baseUrl}/checkFile/${id}`,\n        method: 'get'\n    })\n}\n\n\nCancerStudyApi.add = (params) => {\n    return service({\n        url: baseUrl,\n        data: params,\n        method: 'post'\n    })\n}\nCancerStudyApi.update = (id,params) => {\n    return service({\n        url: `${baseUrl}/update/${id}`,\n        data: params,\n        method: 'post'\n    })\n}\n\n\nCancerStudyApi.findById = (id,params) => {\n    return service({\n        url: `${baseUrl}/findById/${id}`,\n        params:params,\n        method: 'get'\n    })\n}\nexport default CancerStudyApi","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('a-drawer',{attrs:{\"title\":\"癌症研究\",\"placement\":\"right\",\"closable\":false,\"visible\":_vm.visible,\"width\":\"520\"},on:{\"close\":_vm.onClose}},[(_vm.CancerStudyDetial)?_c('div',[_c('a-form-item',{attrs:{\"label\":\"fileName\"}},[_c('a-input',{attrs:{\"value\":_vm.CancerStudyDetial.fileName}})],1),_c('a-form-item',{attrs:{\"label\":\"fileType\"}},[_c('a-input',{attrs:{\"value\":_vm.CancerStudyDetial.fileType}})],1),_c('a-form-item',{attrs:{\"label\":\"absolutePath\"}},[_c('a-input',{attrs:{\"value\":_vm.CancerStudyDetial.absolutePath}})],1),_c('a-form-item',{attrs:{\"label\":\"location\"}},[_c('a-input',{attrs:{\"value\":_vm.CancerStudyDetial.location}})],1),_c('a-form-item',{attrs:{\"label\":\"uuid\"}},[_c('a-input',{attrs:{\"value\":_vm.CancerStudyDetial.uuid}})],1),_c('a-divider'),_vm._l((_vm.codeList),function(item){return _c('a-button',{key:item.id,attrs:{\"type\":\"link\"},on:{\"click\":function($event){return _vm.runTask(_vm.CancerStudyDetial.id, item.id)}}},[_vm._v(\" \"+_vm._s(item.name)+\" \")])}),(_vm.runMsg)?_c('a-textarea',{attrs:{\"placeholder\":\"run log\",\"auto-size\":{ minRows: 3, maxRows: 20 }},model:{value:(_vm.runMsg),callback:function ($$v) {_vm.runMsg=$$v},expression:\"runMsg\"}}):_vm._e(),_c('div',[_c('a-table',{attrs:{\"columns\":_vm.task_columns,\"data-source\":_vm.taskList,\"bordered\":\"\",\"pagination\":false,\"row-key\":function (record) { return record.id; }}})],1),_c('a-button',{on:{\"click\":function($event){return _vm.showLog(_vm.CancerStudyDetial.id)}}},[_vm._v(\"查看更多\")])],2):_vm._e()]),_c('a-table',{attrs:{\"columns\":_vm.columns,\"row-key\":function (record) { return record.id; },\"data-source\":_vm.data,\"pagination\":false,\"loading\":_vm.loading},on:{\"change\":_vm.handleTableChange},scopedSlots:_vm._u([{key:\"absolutePath\",fn:function(text, record){return _c('span',{},[_c('a',{attrs:{\"href\":\"javascript:;\"},on:{\"click\":function($event){return _vm.updateCancerStudy(record.id)}}},[_vm._v(\"位置\")])])}},{key:\"action\",fn:function(text, record){return _c('span',{},[_c('a',{attrs:{\"href\":\"javascript:;\"},on:{\"click\":function($event){return _vm.checkFileExist(record.id)}}},[_vm._v(_vm._s(record.status))]),_c('a-divider',{attrs:{\"type\":\"vertical\"}}),_c('a',{attrs:{\"href\":\"javascript:;\"},on:{\"click\":function($event){return _vm.showDrawer(record)}}},[_vm._v(\"更多\")]),_c('a-divider',{attrs:{\"type\":\"vertical\"}}),_c('a',{attrs:{\"href\":\"javascript:;\"},on:{\"click\":function($event){return _vm.updateCancerStudy(record.id)}}},[_vm._v(\"编辑\")]),_c('a-divider',{attrs:{\"type\":\"vertical\"}}),_c('a',{attrs:{\"href\":\"javascript:;\"},on:{\"click\":function($event){return _vm.delCancerStudy(record.id)}}},[_vm._v(\"删除\")])],1)}}])},[_c('template',{slot:\"footer\"},[_c('div',{staticClass:\"page-wrapper\",style:({ textAlign: 'right' })},[_c('a-pagination',{staticClass:\"pagination\",attrs:{\"current\":_vm.pagination.page,\"total\":_vm.pagination.total,\"defaultPageSize\":_vm.pagination.size,\"pageSizeOptions\":['5', '10', '20', '50', '100'],\"showSizeChanger\":\"\"},on:{\"showSizeChange\":_vm.handleTableChange,\"change\":_vm.handleTableChange}})],1)])],2)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <a-drawer\n      title=\"癌症研究\"\n      placement=\"right\"\n      :closable=\"false\"\n      :visible=\"visible\"\n      width=\"520\"\n      @close=\"onClose\"\n    >\n      <div v-if=\"CancerStudyDetial\">\n        <a-form-item label=\"fileName\">\n          <a-input :value=\"CancerStudyDetial.fileName\" />\n        </a-form-item>\n        <a-form-item label=\"fileType\">\n          <a-input :value=\"CancerStudyDetial.fileType\" />\n        </a-form-item>\n        <a-form-item label=\"absolutePath\">\n          <a-input :value=\"CancerStudyDetial.absolutePath\" />\n        </a-form-item>\n        <a-form-item label=\"location\">\n          <a-input :value=\"CancerStudyDetial.location\" />\n        </a-form-item>\n        <a-form-item label=\"uuid\">\n          <a-input :value=\"CancerStudyDetial.uuid\" />\n        </a-form-item>\n\n        <a-divider />\n\n        <a-button\n          type=\"link\"\n          v-for=\"item in codeList\"\n          :key=\"item.id\"\n          @click=\"runTask(CancerStudyDetial.id, item.id)\"\n        >\n          {{ item.name }}\n        </a-button>\n\n        <a-textarea\n          v-if=\"runMsg\"\n          v-model=\"runMsg\"\n          placeholder=\"run log\"\n          :auto-size=\"{ minRows: 3, maxRows: 20 }\"\n        />\n\n        <div>\n          <a-table\n            :columns=\"task_columns\"\n            :data-source=\"taskList\"\n            bordered\n            :pagination=\"false\"\n            :row-key=\"(record) => record.id\"\n          >\n          </a-table>\n        </div>\n        <a-button @click=\"showLog(CancerStudyDetial.id)\">查看更多</a-button>\n      </div>\n    </a-drawer>\n\n    <a-table\n      :columns=\"columns\"\n      :row-key=\"(record) => record.id\"\n      :data-source=\"data\"\n      :pagination=\"false\"\n      :loading=\"loading\"\n      @change=\"handleTableChange\"\n    >\n      <!-- <div slot=\"name\" slot-scope=\"name,record\">\n        <a href=\"javascript:;\" @click=\"detial(record.id)\">{{record}}</a>\n      </div> -->\n      <span slot=\"absolutePath\" slot-scope=\"text, record\">\n        <a href=\"javascript:;\" @click=\"updateCancerStudy(record.id)\">位置</a>\n      </span>\n      <span slot=\"action\" slot-scope=\"text, record\">\n        <!-- <a href=\"javascript:;\">Invite 一 {{record.name}}</a>\n        <a-divider type=\"vertical\" />-->\n        <!-- <a href=\"javascript:;\" @click=\"generateHtml(record.id)\">生成HTML</a> -->\n        <!-- <a-divider type=\"vertical\" /> -->\n        <!-- <a href=\"javascript:;\" @click=\"updateProject(record.id)\">编辑</a> -->\n        <a href=\"javascript:;\" @click=\"checkFileExist(record.id)\">{{\n          record.status\n        }}</a>\n        <a-divider type=\"vertical\" />\n        <a href=\"javascript:;\" @click=\"showDrawer(record)\">更多</a>\n        <a-divider type=\"vertical\" />\n        <a href=\"javascript:;\" @click=\"updateCancerStudy(record.id)\">编辑</a>\n        <a-divider type=\"vertical\" />\n        <a href=\"javascript:;\" @click=\"delCancerStudy(record.id)\">删除</a>\n        <!-- <a href=\"javascript:;\" @click=\"articleSettings(record.id)\">设置</a>\n        <a-divider type=\"vertical\" />\n        <a href=\"javascript:;\" @click=\"deleteArticleById(record.id)\">删除文章</a>-->\n        <!-- <a href=\"javascript:;\" class=\"ant-dropdown-link\">\n        More actions\n        <a-icon type=\"down\" />\n        </a>-->\n      </span>\n\n      <!-- :scroll=\"{ x: 1500, }\" -->\n      <!-- <template slot=\"name\" slot-scope=\"name\">{{ name.first }} {{ name.last }}</template> -->\n      <template slot=\"footer\">\n        <div class=\"page-wrapper\" :style=\"{ textAlign: 'right' }\">\n          <a-pagination\n            class=\"pagination\"\n            :current=\"pagination.page\"\n            :total=\"pagination.total\"\n            :defaultPageSize=\"pagination.size\"\n            :pageSizeOptions=\"['5', '10', '20', '50', '100']\"\n            showSizeChanger\n            @showSizeChange=\"handleTableChange\"\n            @change=\"handleTableChange\"\n          />\n        </div>\n      </template>\n    </a-table>\n  </div>\n</template>\n<script>\nimport CancerStudyAPi from \"@/api/CancerStudy.js\";\nimport CodeApi from \"@/api/code.js\";\nimport TaskApi from \"@/api/task.js\";\nconst task_columns = [\n  {\n    title: \"id\",\n    dataIndex: \"id\",\n  },\n  {\n    title: \"taskStatus\",\n    dataIndex: \"taskStatus\",\n  },\n  {\n    title: \"isSuccess\",\n    dataIndex: \"isSuccess\",\n  },\n];\nconst columns = [\n  {\n    title: \"id\",\n    dataIndex: \"id\",\n  },\n  {\n    title: \"癌症名称\",\n    dataIndex: \"cancer.name\",\n    // scopedSlots: { customRender: \"cancer\" }\n  },\n\n  {\n    title: \"研究名称\",\n    dataIndex: \"study.name\",\n  },\n  {\n    title: \"数据来源\",\n    dataIndex: \"dataOrigin.name\",\n  },\n  {\n    title: \"数据分类\",\n    dataIndex: \"dataCategory.name\",\n  },\n  {\n    title: \"分析软件\",\n    dataIndex: \"analysisSoftware.name\",\n  },\n  {\n    title: \"大小\",\n    dataIndex: \"size\",\n  },\n  {\n    title: \"日期\",\n    dataIndex: \"createDate\",\n  },\n  {\n    title: \"Action\",\n    key: \"action\",\n    // fixed: \"right\",\n    //   width: 200,\n    scopedSlots: { customRender: \"action\" },\n  },\n];\n\nexport default {\n  data() {\n    return {\n      pagination: {\n        page: 1,\n        size: 10,\n        sort: null,\n      },\n      queryParam: {\n        page: 0,\n        size: 10,\n        sort: null,\n        keyword: null,\n        categoryId: null,\n        status: null,\n      },\n      data: [],\n      tasks: [],\n      loading: false,\n      columns,\n      task_columns,\n      cancerId: null,\n      visible: false,\n      CancerStudyDetial: undefined,\n      runMsg:undefined,\n      codeList: [],\n      taskList: [],\n    };\n  },\n  //   beforeRouteEnter(to, from, next) {\n  //     // Get post id from query\n  //     const cancerId = to.query.cancerId;\n\n  //     next(vm => {\n  //       if (cancerId) {\n  //         vm.cancerId = cancerId;\n  //         vm.loadData(cancerId);\n  //       }\n  //     });\n  //   },\n  mounted() {\n    this.loadData();\n    this.$websock.onmessage = (e) => {\n     \n      let data = JSON.parse(e.data);\n      if(data.cancerStudyId==this.CancerStudyDetial.id){\n        // console.log(this.CancerStudyDetial)\n        this.runMsg = data.runMsg\n      }\n      // console.log(data)\n      this.loadData();\n    };\n  },\n  methods: {\n    handleTableChange(page, pageSize) {\n      this.pagination.page = page;\n      this.pagination.size = pageSize;\n      this.loadData();\n    },\n    loadData() {\n      this.queryParam.page = this.pagination.page - 1;\n      this.queryParam.size = this.pagination.size;\n      this.queryParam.sort = this.pagination.sort;\n\n      const cancerId = this.$route.query.cancerId;\n      const studyId = this.$route.query.studyId;\n      const dataOriginId = this.$route.query.dataOriginId;\n      const dataCategoryId = this.$route.query.dataCategoryId;\n      const analysisSoftwareId = this.$route.query.analysisSoftwareId;\n\n      this.queryParam.cancerId = cancerId;\n      this.queryParam.studyId = studyId;\n      this.queryParam.dataOriginId = dataOriginId;\n      this.queryParam.dataCategoryId = dataCategoryId;\n      this.queryParam.analysisSoftwareId = analysisSoftwareId;\n\n      this.loading = true;\n      CancerStudyAPi.page(this.queryParam, true).then((resp) => {\n        // console.log(resp);\n\n        this.data = resp.data.data.content;\n        this.pagination.total = parseInt(resp.data.data.totalElements);\n        this.loading = false;\n      });\n    },\n    updateProject(id) {\n      this.$router.push({\n        name: \"cancer_cancer_study\",\n        query: { projectId: id },\n      });\n    },\n    delProject(id) {\n      CancerStudyAPi.del(id).then((resp) => {\n        this.$notification[\"success\"]({\n          message: resp.data.data.name + \":删除成功!\",\n        });\n        this.loadData();\n      });\n    },\n    updateCancerStudy(id) {\n      this.$router.push({\n        name: \"update_cancer_study\",\n        query: { cancerStudyId: id },\n      });\n    },\n    delCancerStudy(id) {\n      let loadData = this.loadData;\n      let notification = this.$notification[\"success\"];\n      this.$confirm({\n        title: \"删除癌症数据\",\n        content: \"您确定要删除该癌症数据吗?\",\n        onOk() {\n          CancerStudyAPi.del(id).then((resp) => {\n            loadData();\n            notification({\n              message: \"删除成功!\" + resp.data.message,\n            });\n          });\n        },\n        onCancel() {},\n      });\n    },\n    loadTask(id) {\n      TaskApi.page({ cancerStudyId: id }).then((resp) => {\n        this.taskList = resp.data.data.content;\n      });\n    },\n    showDrawer(data) {\n      this.CancerStudyDetial = data;\n      CodeApi.findByCan(data.id).then((resp) => {\n        // console.log(resp);\n        this.codeList = resp.data.data;\n      });\n      this.loadTask(data.id);\n      // console.log(data);\n      this.visible = true;\n    },\n    onClose() {\n      this.visible = false;\n      this.runMsg=undefined\n    },\n    checkFileExist(id) {\n      let loadData = this.loadData;\n      let notification = this.$notification[\"success\"];\n      let notification_error = this.$notification[\"error\"];\n      CancerStudyAPi.checkFileExist(id).then((resp) => {\n        loadData();\n        if (resp.data.data.status) {\n          notification({\n            message: \"文件存在：\" + resp.data.data.absolutePath,\n          });\n        } else {\n          notification_error({\n            message: \"文件不存在\" + resp.data.data.absolutePath,\n          });\n        }\n      });\n    },\n    showLog(id) {\n      this.$router.push({\n        name: \"cancer_study_task\",\n        query: { cancerStudyId: id },\n      });\n    },\n    runTask(cancerStudyId, codeId) {\n      if(this.runMsg){\n        this.runMsg=\"\"\n      }\n      // console.log(cancerStudyId, codeId);\n      TaskApi.run({ cancerStudyId: cancerStudyId, codeId: codeId }).then(\n        (resp) => {\n          this.loadTask(cancerStudyId);\n          this.$message.success(resp.data.data.name + \"创建成功\");\n\n          //  this.$notification[\"success\"]({\n          //     message: \"运行成功!\" + resp.data.message,\n          //   });\n        }\n      );\n    },\n  },\n};\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CancerDetial.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CancerDetial.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CancerDetial.vue?vue&type=template&id=d6c0d8a8&\"\nimport script from \"./CancerDetial.vue?vue&type=script&lang=js&\"\nexport * from \"./CancerDetial.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import service from '@/utils/service'\nconst baseUrl = '/api/task'\n\nconst TaskApi = {}\n\nTaskApi.page = (params) =>{\n    return service({\n        url: `${baseUrl}`,\n        params: params,\n        method: 'get'\n    })\n}\n\nTaskApi.run = (params) =>{\n    return service({\n        url: `${baseUrl}/run`,\n        params: params,\n        method: 'get'\n    })\n}\n\nTaskApi.runOne = (id) =>{\n    return service({\n        url: `${baseUrl}/run/${id}`,\n        method: 'get'\n    })\n}\n\nTaskApi.shutdown = (id) =>{\n    return service({\n        url: `${baseUrl}/shutdown/${id}`,\n        method: 'get'\n    })\n}\n\nTaskApi.del = (id) => {\n    return service({\n        url: `${baseUrl}/del/${id}`,\n        method: 'get'\n    })\n}\n\nexport default TaskApi"],"sourceRoot":""}