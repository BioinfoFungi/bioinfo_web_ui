(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["Home"],{"42cc":function(t,e,a){"use strict";a("6476")},"5ced":function(t,e,a){},6476:function(t,e,a){},"724d":function(t,e,a){"use strict";var n=a("9efd"),i="/api/cancer_study",r={page:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Object(n["a"])({url:"".concat(i,"?more=").concat(e),params:t,method:"get"})},list:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Object(n["a"])({url:"".concat(i,"/list?more=").concat(e),params:t,method:"get"})},listByCancerId:function(t){return Object(n["a"])({url:"".concat(i,"/listByCancerId/").concat(t),method:"get"})},del:function(t){return Object(n["a"])({url:"".concat(i,"/del/").concat(t),method:"get"})},checkFileExist:function(t){return Object(n["a"])({url:"".concat(i,"/checkFile/").concat(t),method:"get"})},add:function(t){return Object(n["a"])({url:i,data:t,method:"post"})},update:function(t,e){return Object(n["a"])({url:"".concat(i,"/update/").concat(t),data:e,method:"post"})},findById:function(t,e){return Object(n["a"])({url:"".concat(i,"/findById/").concat(t),params:e,method:"get"})},createTSVFile:function(){return Object(n["a"])({url:"".concat(i,"/createTSVFile"),method:"post",responseType:"blob"})}};e["a"]=r},7797:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a-row",{style:{background:"#fff",padding:"24px",minHeight:"280px"}},[a("a-col",{attrs:{span:5}},[a("a-tree",{attrs:{checkable:"","expanded-keys":t.expandedKeys,"auto-expand-parent":t.autoExpandParent,"selected-keys":t.selectedKeys,"tree-data":t.treeData},on:{expand:t.onExpand,select:t.onSelect},model:{value:t.checkedKeys,callback:function(e){t.checkedKeys=e},expression:"checkedKeys"}})],1),a("a-col",{attrs:{span:19}},[a("a-drawer",{attrs:{title:"癌症研究",placement:"right",closable:!1,visible:t.visible,width:"50%"},on:{close:t.onClose}},[t.CancerStudyDetial?a("div",[a("a-form-item",{attrs:{label:"description"}},[a("a-input",{attrs:{value:t.CancerStudyDetial.description}})],1),a("a-form-item",{attrs:{label:"createDate"}},[a("a-input",{attrs:{value:t.CancerStudyDetial.createDate}})],1),a("a-form-item",{attrs:{label:"fileName"}},[a("a-input",{attrs:{value:t.CancerStudyDetial.fileName}})],1),a("a-form-item",{attrs:{label:"fileType"}},[a("a-input",{attrs:{value:t.CancerStudyDetial.fileType}})],1),a("a-form-item",{attrs:{label:"location"}},[a("a-input",{attrs:{value:t.CancerStudyDetial.location}})],1),a("a-form-item",{attrs:{label:"uuid"}},[a("a-input",{attrs:{value:t.CancerStudyDetial.uuid}})],1),""!=t.CancerStudyDetial.absolutePath?a("a-form-item",{attrs:{label:"原始数据"}},[a("a-input",{attrs:{value:t.CancerStudyDetial.absolutePath}})],1):t._e(),t.CancerStudyDetial.status?a("a",{attrs:{href:"javascript:;"},on:{click:function(e){return t.downlaod(t.CancerStudyDetial.relativePath)}}},[t._v("下载")]):t._e(),""!=t.CancerStudyDetial.parentId?a("div",[a("a-form-item",{attrs:{label:"expr"}},[a("a-input",{attrs:{value:t.CancerStudyDetial.expr}})],1),t.CancerStudyDetial.exprStatus?a("a",{attrs:{href:"javascript:;"},on:{click:function(e){return t.downlaod(t.CancerStudyDetial.exprRelative)}}},[t._v("下载")]):t._e(),a("a-form-item",{attrs:{label:"metadata"}},[a("a-input",{attrs:{value:t.CancerStudyDetial.metadata}})],1),t.CancerStudyDetial.metadataStatus?a("a",{attrs:{href:"javascript:;"},on:{click:function(e){return t.downlaod(t.CancerStudyDetial.metadataRelative)}}},[t._v("下载")]):t._e()],1):t._e(),a("a-divider")],1):t._e()]),a("a-input-search",{staticStyle:{width:"200px"},attrs:{placeholder:"input search text"},on:{search:t.onSearch}}),a("a-button",{on:{click:t.clearSearch}},[t._v("清除")]),a("a-table",{attrs:{columns:t.columns,"row-key":function(t){return t.id},"data-source":t.data,pagination:!1,loading:t.loading,scroll:{x:1500}},on:{change:t.handleTableChange},scopedSlots:t._u([{key:"id_link",fn:function(e){return a("div",{},[a("a",{attrs:{href:"javascript:;"}},[t._v(t._s(e))])])}},{key:"action",fn:function(e,n){return a("span",{},[a("a",{attrs:{href:"javascript:;"},on:{click:function(e){return t.checkFileExist(n.id)}}},[t._v(" 检测 ")]),n.exprStatus?a("a-divider",{attrs:{type:"vertical"}}):t._e(),n.exprStatus?a("a",{attrs:{href:"javascript:;"},on:{click:function(e){return t.downlaod(n.exprRelative)}}},[t._v("表达矩阵")]):t._e(),n.metadataRelative?a("a-divider",{attrs:{type:"vertical"}}):t._e(),n.metadataStatus?a("a",{attrs:{href:"javascript:;"},on:{click:function(e){return t.downlaod(n.metadataRelative)}}},[t._v("样品信息")]):t._e(),n.status?a("a-divider",{attrs:{type:"vertical"}}):t._e(),n.status?a("a",{attrs:{href:"javascript:;"},on:{click:function(e){return t.downlaod(n.relativePath)}}},[t._v("原始数据")]):t._e(),a("a-divider",{attrs:{type:"vertical"}}),a("a",{attrs:{href:"javascript:;"},on:{click:function(e){return t.showDrawer(n)}}},[t._v("更多")])],1)}}])},[a("template",{slot:"footer"},[a("div",{staticClass:"page-wrapper",style:{textAlign:"right"}},[a("a-pagination",{staticClass:"pagination",attrs:{current:t.pagination.page,total:t.pagination.total,defaultPageSize:t.pagination.size,pageSizeOptions:["5","10","20","50","100"],showSizeChanger:""},on:{showSizeChange:t.handleTableChange,change:t.handleTableChange}})],1)])],2)],1)],1)},i=[],r=a("724d"),o=[{title:"0-0",key:"0-0",children:[{title:"0-0-0",key:"0-0-0",children:[{title:"0-0-0-0",key:"0-0-0-0"},{title:"0-0-0-1",key:"0-0-0-1"},{title:"0-0-0-2",key:"0-0-0-2"}]},{title:"0-0-1",key:"0-0-1",children:[{title:"0-0-1-0",key:"0-0-1-0"},{title:"0-0-1-1",key:"0-0-1-1"},{title:"0-0-1-2",key:"0-0-1-2"}]},{title:"0-0-2",key:"0-0-2"}]},{title:"0-1",key:"0-1",children:[{title:"0-1-0-0",key:"0-1-0-0"},{title:"0-1-0-1",key:"0-1-0-1"},{title:"0-1-0-2",key:"0-1-0-2"}]},{title:"0-2",key:"0-2"}],l=[{title:"癌症名称",dataIndex:"cancer.name"},{title:"研究名称",dataIndex:"study.name"},{title:"数据来源",dataIndex:"dataOrigin.name"},{title:"数据分类",dataIndex:"dataCategory.name"},{title:"处理流程",dataIndex:"analysisSoftware.name"},{title:"基因注释",dataIndex:"analysisSoftware.annotationId"},{title:"GSE",dataIndex:"gse"},{title:"ID",dataIndex:"id",scopedSlots:{customRender:"id_link"}},{title:"parentId",dataIndex:"parentId"},{title:"codeId",dataIndex:"codeId"},{title:"大小",dataIndex:"size"},{title:"Action",key:"action",fixed:"right",scopedSlots:{customRender:"action"}}],c={data:function(){return{pagination:{page:1,size:10,sort:null,keyword:null},queryParam:{page:0,size:10,sort:null,keyword:null,categoryId:null,status:null},data:[],loading:!1,columns:l,visible:!1,CancerStudyDetial:void 0,expandedKeys:["0-0-0","0-0-1"],autoExpandParent:!0,checkedKeys:["0-0-0"],selectedKeys:[],treeData:o}},mounted:function(){this.loadData()},watch:{checkedKeys:function(t){console.log("onCheck",t)}},methods:{onExpand:function(t){this.expandedKeys=t,this.autoExpandParent=!1},onCheck:function(t){console.log("onCheck",t),this.checkedKeys=t},onSelect:function(t,e){console.log("onSelect",e),this.selectedKeys=t},onSearch:function(t){this.pagination.keyword=t,this.loadData()},clearSearch:function(){this.pagination.keyword=null,this.loadData()},handleTableChange:function(t,e){this.pagination.page=t,this.pagination.size=e,this.loadData()},loadData:function(){var t=this;this.queryParam.page=this.pagination.page-1,this.queryParam.size=this.pagination.size,this.queryParam.sort=this.pagination.sort,this.queryParam.keyword=this.pagination.keyword;var e=this.$route.query.cancerId,a=this.$route.query.studyId,n=this.$route.query.dataOriginId,i=this.$route.query.dataCategoryId,o=this.$route.query.analysisSoftwareId;this.queryParam.cancerId=e,this.queryParam.studyId=a,this.queryParam.dataOriginId=n,this.queryParam.dataCategoryId=i,this.queryParam.analysisSoftwareId=o,this.loading=!0,r["a"].page(this.queryParam,!0).then((function(e){t.data=e.data.data.content,t.pagination.total=parseInt(e.data.data.totalElements),t.loading=!1}))},showDrawer:function(t){this.CancerStudyDetial=t,this.visible=!0},onClose:function(){this.visible=!1},downlaod:function(t){var e=JSON.parse(localStorage.getItem("global_config"));window.open(e.download_url+"/"+t)}}},s=c,u=a("2877"),d=Object(u["a"])(s,n,i,!1,null,null,null);e["default"]=d.exports},bb51:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"home"},[t.user?a("div",[t._v(" "+t._s(t.user?t.user.username:null)+" "),a("button",{on:{click:t.logout}},[t._v("退出")])]):t._e(),t.user?t._e():a("div",[a("button",{on:{click:t.login}},[t._v("登录")])]),a("h3",[t._v("使用方法")]),t._m(0),a("h3",[t._v("功能")]),t._m(1)])},i=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ol",[a("li")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ol",[a("li",[t._v("展示jupyter生成的生信报告")]),a("li",[t._v("图片上传到本地和oss")]),a("li",[t._v("基本的权限管理")])])}],r=(a("ac1f"),a("5319"),{data:function(){return{user:null}},created:function(){var t=JSON.parse(localStorage.getItem("user"));this.user=t},methods:{logout:function(){localStorage.removeItem("jwtToken"),localStorage.removeItem("user"),localStorage.removeItem("global_config"),this.$router.replace("/Home"),this.user=null},login:function(){this.$router.push("/login")}}}),o=r,l=(a("cccb"),a("2877")),c=Object(l["a"])(o,n,i,!1,null,null,null);e["default"]=c.exports},cccb:function(t,e,a){"use strict";a("5ced")},e874:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"home"})},i=[],r=(a("ac1f"),a("5319"),{data:function(){return{user:null}},created:function(){var t=JSON.parse(localStorage.getItem("user"));this.user=t},methods:{logout:function(){localStorage.removeItem("jwtToken"),localStorage.removeItem("user"),localStorage.removeItem("global_config"),this.$router.replace("/Home"),this.user=null},login:function(){this.$router.push("/login")}}}),o=r,l=(a("42cc"),a("2877")),c=Object(l["a"])(o,n,i,!1,null,null,null);e["default"]=c.exports}}]);
//# sourceMappingURL=Home.884d7c47.js.map